{"version":3,"sources":["webpack:///./Modules/SmartChart/Components/bottom-widgets.jsx","webpack:///./Modules/SmartChart/Components/control-widgets.jsx","webpack:///./Modules/SmartChart/Components/Markers/marker.jsx","webpack:///./Modules/SmartChart/Components/top-widgets.jsx","webpack:///./Modules/SmartChart/Helpers/symbol.js","webpack:///./Modules/SmartChart/Containers/smart-chart.jsx"],"names":["BottomWidgets","_ref","Digits","react_default","a","createElement","className","propTypes","PropTypes","node","ControlWidgets","updateChartType","updateGranularity","Fragment","smartcharts","onChange","searchInputClassName","func","ChartMarker","is_contract_replay","marker_config","marker_content_props","ContentComponent","marker_props","_objectWithoutProperties","yPositioner","toJS","object","observer","TopWidgets","InfoBox","_ref$is_title_enabled","is_title_enabled","onSymbolChange","enabled","bool","symbolChange","symbol","target","name","value","setSmartChartsPublicPath","Chart","chartControlsWidgets","control_widgets","_this","props","topWidgets","top_widgets","bottomWidgets","bottom_widgets","React","Component","this","onMount","onUnmount","_this2","barriers","barriers_array","should_show_bottom_widgets","is_contract_mode","chartStatusListener","getChartStatus","chartType","chart_type","endEpoch","end_epoch","margin","id","chart_id","isMobile","is_mobile","granularity","requestAPI","wsSendRequest","requestForget","wsForget","requestSubscribe","wsSubscribe","settings","showLastDigitStats","should_show_last_digit_stats","startEpoch","start_epoch","scrollToEpoch","scroll_to_epoch","scrollToEpochOffset","scroll_to_offset","isConnectionOpened","is_socket_opened","clearChart","should_clear_chart","importedLayout","should_import_layout","trade_chart_layout","onExportLayout","should_export_layout","exportLayout","isStaticChart","is_static_chart","shouldFetchTradingTimes","refreshActiveSymbols","should_refresh_active_symbols","markers_array","map","marker","idx","Markers_marker","key","content_config","array","string","number","is_trade_page","replay_controls","scroll_to_epoch_offset","connect","modules","ui","common","smart_chart"],"mappings":"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","file":"js/smart_chart.456aeef852b1be2aa484.js","sourcesContent":["import PropTypes      from 'prop-types';\nimport React          from 'react';\n\nconst BottomWidgets = ({\n    Digits,\n}) => (\n    <div className='bottom-widgets'>\n        {Digits}\n    </div>\n);\n\nBottomWidgets.propTypes = {\n    Digits: PropTypes.node,\n};\n\nexport default BottomWidgets;\n","import {\n    ChartSize,\n    ChartTypes,\n    Comparison,\n    CrosshairToggle,\n    DrawTools,\n    Share,\n    StudyLegend,\n    Timeperiod,\n    Views }           from 'smartcharts-beta';\nimport PropTypes      from 'prop-types';\nimport React          from 'react';\n\nconst ControlWidgets = ({\n    updateChartType,\n    updateGranularity,\n}) => (\n    <React.Fragment>\n        <CrosshairToggle />\n        <ChartTypes onChange={updateChartType} />\n        <StudyLegend searchInputClassName='data-hj-whitelist' />\n        <Comparison searchInputClassName='data-hj-whitelist' />\n        <DrawTools />\n        <Views searchInputClassName='data-hj-whitelist' />\n        <Share />\n        <Timeperiod onChange={updateGranularity} />\n        <ChartSize />\n    </React.Fragment>\n);\n\nControlWidgets.propTypes = {\n    updateChartType  : PropTypes.func,\n    updateGranularity: PropTypes.func,\n};\n\nexport default ControlWidgets;\n","import { Marker }   from 'smartcharts-beta';\nimport { toJS }     from 'mobx';\nimport { observer } from 'mobx-react';\nimport PropTypes    from 'prop-types';\nimport React        from 'react';\n\nconst ChartMarker = ({\n    is_contract_replay,\n    marker_config,\n    marker_content_props,\n}) => {\n    const { ContentComponent, ...marker_props } = marker_config;\n\n    // Remove CSS transition on chart-marker-line when\n    // viewing expired contract because it appears sluggish over time\n    // -> charts seems to be doing heavy js scripting when rendering static charts\n    // TODO: remove this once smartcharts is more optimized\n    if (is_contract_replay && marker_props.yPositioner === 'none') {\n        marker_props.className += ' chart-marker-line__no-transition';\n    }\n\n    return (\n        <Marker {...toJS(marker_props)}>\n            <ContentComponent {...toJS(marker_content_props)} />\n        </Marker>\n    );\n};\n\nChartMarker.propTypes = {\n    marker_config       : PropTypes.object,\n    marker_content_props: PropTypes.object,\n};\n\nexport default observer(ChartMarker);\n","import {\n    AssetInformation,\n    ChartTitle }      from 'smartcharts-beta';\nimport PropTypes      from 'prop-types';\nimport React          from 'react';\n\nconst TopWidgets = ({\n    InfoBox,\n    is_title_enabled = true,\n    onSymbolChange,\n}) => (\n    <React.Fragment>\n        {InfoBox}\n        <ChartTitle enabled={is_title_enabled} onChange={onSymbolChange} searchInputClassName='data-hj-whitelist' />\n        <AssetInformation />\n    </React.Fragment>\n);\n\nTopWidgets.propTypes = {\n    InfoBox         : PropTypes.node,\n    is_title_enabled: PropTypes.bool,\n    onSymbolChange  : PropTypes.func,\n};\n\nexport default TopWidgets;\n","export const symbolChange = (onSymbolChange) => (\n    onSymbolChange &&\n    ((symbol) => {\n        onSymbolChange({\n            target: {\n                name : 'symbol',\n                value: symbol,\n            },\n        });\n    })\n);\n","import {\n    SmartChart,\n    setSmartChartsPublicPath } from 'smartcharts-beta';\nimport PropTypes               from 'prop-types';\nimport React                   from 'react';\nimport { connect }             from 'Stores/connect';\nimport BottomWidgets           from '../Components/bottom-widgets.jsx';\nimport ControlWidgets          from '../Components/control-widgets.jsx';\nimport ChartMarker             from '../Components/Markers/marker.jsx';\nimport TopWidgets              from '../Components/top-widgets.jsx';\nimport { symbolChange }        from '../Helpers/symbol';\n\nsetSmartChartsPublicPath('/js/smartcharts/');\n\nclass Chart extends React.Component {\n    componentDidMount() { this.props.onMount(); }\n\n    componentWillUnmount() { this.props.onUnmount(); }\n\n    chartControlsWidgets = () => (\n        <ControlWidgets\n            updateChartType={this.props.updateChartType}\n            updateGranularity={this.props.updateGranularity}\n        />\n    );\n\n    topWidgets = () => (\n        <TopWidgets\n            InfoBox={this.props.InfoBox}\n            is_title_enabled={this.props.is_title_enabled}\n            onSymbolChange={symbolChange(this.props.onSymbolChange)}\n        />\n    );\n\n    bottomWidgets = () => (\n        <BottomWidgets Digits={this.props.Digits} />\n    );\n\n    render() {\n        return (\n            <SmartChart\n                barriers={this.props.barriers_array}\n                bottomWidgets={this.props.should_show_bottom_widgets ?\n                    this.bottomWidgets : null}\n                chartControlsWidgets={this.props.is_contract_mode ? null : this.chartControlsWidgets}\n                chartStatusListener={this.props.getChartStatus}\n                chartType={this.props.chart_type}\n                endEpoch={this.props.end_epoch}\n                margin={this.props.margin || null}\n                id={this.props.chart_id}\n                isMobile={this.props.is_mobile}\n                granularity={this.props.granularity}\n                requestAPI={this.props.wsSendRequest}\n                requestForget={this.props.wsForget}\n                requestSubscribe={this.props.wsSubscribe}\n                settings={this.props.settings}\n                showLastDigitStats={this.props.should_show_last_digit_stats}\n                startEpoch={this.props.start_epoch}\n                scrollToEpoch={this.props.scroll_to_epoch}\n                scrollToEpochOffset={this.props.scroll_to_offset}\n                symbol={this.props.symbol}\n                topWidgets={this.topWidgets}\n                isConnectionOpened={this.props.is_socket_opened}\n                clearChart={this.props.should_clear_chart}\n                importedLayout={this.props.should_import_layout ? this.props.trade_chart_layout : null}\n                onExportLayout={this.props.should_export_layout ? this.props.exportLayout : null}\n                isStaticChart={this.props.is_static_chart}\n                shouldFetchTradingTimes={!this.props.end_epoch}\n                refreshActiveSymbols={this.props.should_refresh_active_symbols}\n            >\n                { this.props.markers_array.map((marker, idx) => (\n                    <ChartMarker\n                        is_contract_replay={this.props.is_contract_replay}\n                        key={idx}\n                        marker_config={marker.marker_config}\n                        marker_content_props={marker.content_config}\n                    />\n                ))}\n            </SmartChart>\n        );\n    }\n}\n\nChart.propTypes = {\n    barriers_array               : PropTypes.array,\n    BottomWidgets                : PropTypes.node,\n    chart_id                     : PropTypes.string,\n    chart_type                   : PropTypes.string,\n    end_epoch                    : PropTypes.number,\n    exportLayout                 : PropTypes.func,\n    getChartStatus               : PropTypes.func,\n    granularity                  : PropTypes.number,\n    InfoBox                      : PropTypes.node,\n    is_contract_mode             : PropTypes.bool,\n    is_contract_replay           : PropTypes.bool,\n    is_mobile                    : PropTypes.bool,\n    is_socket_opened             : PropTypes.bool,\n    is_static_chart              : PropTypes.bool,\n    is_title_enabled             : PropTypes.bool,\n    is_trade_page                : PropTypes.bool,\n    margin                       : PropTypes.number,\n    markers_array                : PropTypes.array,\n    onMount                      : PropTypes.func,\n    onSymbolChange               : PropTypes.func,\n    onUnmount                    : PropTypes.func,\n    replay_controls              : PropTypes.object,\n    scroll_to_epoch              : PropTypes.number,\n    scroll_to_epoch_offset       : PropTypes.number,\n    settings                     : PropTypes.object,\n    should_clear_chart           : PropTypes.bool,\n    should_export_layout         : PropTypes.bool,\n    should_import_layout         : PropTypes.bool,\n    should_refresh_active_symbols: PropTypes.bool,\n    should_show_last_digit_stats : PropTypes.bool,\n    start_epoch                  : PropTypes.number,\n    symbol                       : PropTypes.string,\n    trade_chart_layout           : PropTypes.object,\n    updateChartType              : PropTypes.func,\n    updateGranularity            : PropTypes.func,\n    wsForget                     : PropTypes.func,\n    wsSendRequest                : PropTypes.func,\n    wsSubscribe                  : PropTypes.func,\n};\n\nexport default connect(\n    ({ modules, ui, common }) => ({\n        is_socket_opened             : common.is_socket_opened,\n        barriers_array               : modules.smart_chart.barriers_array,\n        exportLayout                 : modules.smart_chart.exportLayout,\n        getChartStatus               : modules.smart_chart.getChartStatus,\n        is_contract_mode             : modules.smart_chart.is_contract_mode,\n        is_title_enabled             : modules.smart_chart.is_title_enabled,\n        margin                       : modules.smart_chart.margin,\n        markers_array                : modules.smart_chart.markers_array,\n        onMount                      : modules.smart_chart.onMount,\n        onUnmount                    : modules.smart_chart.onUnmount,\n        settings                     : modules.smart_chart.settings,\n        should_clear_chart           : modules.smart_chart.should_clear_chart,\n        should_export_layout         : modules.smart_chart.should_export_layout,\n        should_import_layout         : modules.smart_chart.should_import_layout,\n        should_refresh_active_symbols: modules.smart_chart.should_refresh_active_symbols,\n        trade_chart_layout           : modules.smart_chart.trade_chart_layout,\n        updateChartType              : modules.smart_chart.updateChartType,\n        updateGranularity            : modules.smart_chart.updateGranularity,\n        wsForget                     : modules.smart_chart.wsForget,\n        wsSendRequest                : modules.smart_chart.wsSendRequest,\n        wsSubscribe                  : modules.smart_chart.wsSubscribe,\n        is_mobile                    : ui.is_mobile,\n    })\n)(Chart);\n"],"sourceRoot":""}