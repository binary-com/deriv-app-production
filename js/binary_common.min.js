(window.webpackJsonp=window.webpackJsonp||[]).push([["binary_common"],{10:function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var r=n(115);n(472);var o=function(t){var e=!0;return t&&t instanceof Object&&Object.keys(t).forEach(function(n){Object.prototype.hasOwnProperty.call(t,n)&&(e=!1)}),e},a=function(t){return o(t)?t:r(!0,Array.isArray(t)?[]:{},t)},c=function(t,e){return(void 0===t?"undefined":i(t))===(void 0===e?"undefined":i(e))&&(Array.isArray(t)?s(t,e):t&&e&&"object"===(void 0===t?"undefined":i(t))?u(t,e):t===e)},s=function(t,e){return t===e||t.length===e.length&&t.every(function(t,n){return c(t,e[n])})},u=function(t,e){return t===e||Object.keys(t).length===Object.keys(e).length&&Object.keys(t).every(function(n){return c(t[n],e[n])})},l=void 0;t.exports={template:function(t,e){var n=e;return e&&!Array.isArray(e)&&(n=[e]),t.replace(/\[_(\d+)]/g,function(t,e){return n[+e-1]})},isEmptyObject:o,cloneObject:a,isDeepEqual:c,unique:function(t,e){return t.filter(function(n,i){return t.findIndex(function(t,r){return t[e]?t[e]===n[e]:r===i})===i})},getPropertyValue:function t(e,n){var i=n;return Array.isArray(i)||(i=[i]),!o(e)&&i[0]in e&&i&&i.length>1?t(e[i[0]],i.slice(1)):e?a(e[i[0]]):void 0},createElement:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.createElement(t);return Object.keys(e).forEach(function(t){var i=e[t];"text"===t?n.textContent=i:"html"===t?n.html(i):n.setAttribute(t,i)}),n},getStaticHash:function(){return l=l||(document.querySelector('script[src*="binary"]').getAttribute("src")||"").split("?")[1]},PromiseClass:function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.promise=new Promise(function(t,n){e.reject=n,e.resolve=t})}}},116:function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(33),o=n(46).get,a=n(28).LocalStore,c=n(10).getPropertyValue,s=n(10).getStaticHash,u=n(10).isEmptyObject,l=function(){var t={payout_currencies:{expire:120},proposal_open_contract:{expire:10,map_to:["contract_id"]},active_symbols:{expire:10,map_to:["product_type","landing_company",o]},contracts_for:{expire:10,map_to:["contracts_for","product_type","currency"]},exchange_rates:{expire:60,map_to:["base_currency"]},ticks_history:{expire:10,map_to:["ticks_history","granularity","start","end","style"]},trading_times:{expire:120,map_to:["trading_times"]}},e={},n={history:"ticks_history",candles:"ticks_history"},l=function(t){var e=!1;return Array.isArray(t)?t.length||(e=!0):"object"===("undefined"==typeof response_data?"undefined":i(response_data))&&(Object.keys(t).length||(e=!0)),e},f=function(t,n){var i=void 0;if(!u(e)||(e=a.getObject("ws_cache"),!u(e))){e.static_hash!==s()&&p();var o=d(t,n),l=c(e,o)||{};return r().isBefore(l.expires)?i=l.value:m(o),i}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")||Object.keys(e).find(function(e){return t[e]});return n&&!u(e)&&((t[n]||{}).map_to||[]).forEach(function(t){var i="function"==typeof t?t():e[t];n+=t?"_"+(i||""):""}),n},m=function(t,n){n?Object.keys(e).forEach(function(n){-1!==n.indexOf(t)&&delete e[n]}):t in e&&delete e[t],a.setObject("ws_cache",e)},p=function(){a.remove("ws_cache"),e={}};return{set:function(i){var o=n[i.msg_type]||i.msg_type;if(!i.subscription&&t[o]){var c=f(i.echo_req)||{},u=c[o],m=i[o],g=i.error,v=u&&l(u)&&!l(m),_=u&&l(m)&&!l(u),h=!l(c)&&!c.error;if((g||v||_)&&h)p();else{var y=d(i.echo_req,o),b=r().add(t[o].expire,"m").valueOf();e.static_hash||(e.static_hash=s()),e[y]={value:i,expires:b},a.setObject("ws_cache",e)}}},get:f,remove:m,clear:p}}();t.exports=l},154:function(t,e,n){"use strict";var i=n(10).createElement;t.exports={isVisible:function(t){return!(!t||0===t.offsetWidth&&0===t.offsetHeight)},getElementById:function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).getElementById(t)||i("div")}}},155:function(t,e,n){"use strict";var i=function(t,e,n){var i=String(t||"");return i.length>=e?i:""+Array(e-i.length+1).join(n)+i},r=function(t){return"number"==typeof t?String(t):t};t.exports={toTitleCase:function(t){return(t||"").replace(/\w[^\s/\\]*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})},padLeft:i,numberToString:r,compareBigUnsignedInt:function(t,e){var n=r(t),o=r(e);if(!n||!o)return"";var a=Math.max(n.length,o.length),c=0;return(n=i(n,a,"0"))!==(o=i(o,a,"0"))&&(c=n>o?1:-1),c}}},23:function(t,e,n){"use strict";var i=n(46).get,r=n(5).localize,o=n(10).getPropertyValue,a={},c=function(t){return'<span class="symbols '+(t||"").toLowerCase()+'"></span>'},s=function(t,e,n){var i=String(t||0).replace(/,/g,"");return void 0!==e&&(i=(+i).toFixed(e)),n&&(i=parseFloat(+i)),i.toString().replace(/(^|[^\w.])(\d{4,})/g,function(t,e,n){return e+n.replace(/\d(?=(?:\d\d\d)+(?!\d))/g,"$&,")})},u=function(t){return a[t]?o(a,[t,"fractional_digits"]):function(t){return l(t)?8:2}(t)},l=function(t){return/crypto/i.test(o(a,[t,"type"]))||t in f.get()},f=function(){var t=void 0;return{get:function(){return t||(t={BTC:{name:r("Bitcoin"),min_withdrawal:.002,pa_max_withdrawal:5,pa_min_withdrawal:.002},BCH:{name:r("Bitcoin Cash"),min_withdrawal:.002,pa_max_withdrawal:5,pa_min_withdrawal:.002},ETH:{name:r("Ether"),min_withdrawal:.002,pa_max_withdrawal:5,pa_min_withdrawal:.002},ETC:{name:r("Ether Classic"),min_withdrawal:.002,pa_max_withdrawal:5,pa_min_withdrawal:.002},LTC:{name:r("Litecoin"),min_withdrawal:.002,pa_max_withdrawal:5,pa_min_withdrawal:.002},UST:{name:r("Tether"),min_withdrawal:.02,pa_max_withdrawal:2e3,pa_min_withdrawal:10},USB:{name:r("Binary Coin"),min_withdrawal:.02,pa_max_withdrawal:2e3,pa_min_withdrawal:10}}),t}}}(),d=function(t){return l(t)?o(f.get(),[t,"min_withdrawal"])||.002:1};t.exports={formatMoney:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=e;a&&(a=String(a).replace(/,/g,""));var l=a&&Number(a)<0?"-":"",f=r||u(t);if(a=isNaN(a)?0:Math.abs(a),"undefined"!=typeof Intl){var d={minimumFractionDigits:o||f,maximumFractionDigits:f};a=new Intl.NumberFormat(i().toLowerCase().replace("_","-"),d).format(a)}else a=s(a,f);return l+(n?"":c(t))+a},formatCurrency:c,addComma:s,getDecimalPlaces:u,setCurrencies:function(t){a=t.currencies_config},isCryptocurrency:l,getCurrencyName:function(t){return o(f.get(),[t,"name"])||""},getMinWithdrawal:d,getTransferLimits:function(t,e){var n=o(a,[t,"transfer_between_accounts","limits"])||d(t),i=u(t);return"max"===e?n.max?n.max.toFixed(i):void 0:n.min?n.min.toFixed(i):void 0},getTransferFee:function(t,e){var n=o(a,[t,"transfer_between_accounts","fees",e]);return(void 0===n?"1":n)+"%"},getMinimumTransferFee:function(t){var e=u(t);return t+" "+(1/Math.pow(10,e)).toFixed(e)},getTextFormat:function(t,e){return e+" "+s(t,u(e),l(e))},getMinPayout:function(t){return o(a,[t,"stake_default"])},getPaWithdrawalLimit:function(t,e){return l(t)?o(f.get(),[t,"pa_"+e+"_withdrawal"]):"max"===e?2e3:10},getCurrencies:function(){return a}}},25:function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(65),o=n(116),a=n(46).get,c=n(28).State,s=n(10).cloneObject,u=n(10).getPropertyValue,l=n(10).isEmptyObject,f=n(10).PromiseClass,d=n(61).getAppId,m=n(61).getSocketURL,p=function(){var t=void 0,e={},n=[],p=0,g=0,v=!0,_=!1,h=!1,y=m()+"?app_id="+d()+"&l="+a(),b={},w={},O=["authorize","get_settings","residence_list","landing_company","payout_currencies","asset_index","active_symbols"],S={items:[],clear:function(){S.items=[]},has:function(t){return S.items.indexOf(t)>=0},add:function(t){S.has(t)||S.items.push(t)},remove:function(t){S.has(t)&&S.items.splice(S.items.indexOf(t,1))}},x={items:{},add:function(t,e){x.items[t]||(x.items[t]=[]),x.items[t].push(e)},resolve:function(t){var e=t.msg_type,n=x.items[e];n&&n.length&&(n.forEach(function(n){x.another_exists(n,e)||n.resolve(t)}),x.items[e]=[])},another_exists:function(t,e){return Object.keys(x.items).some(function(n){return n!==e&&-1!==x.items[n].indexOf(t)})}},j=function(){Object.keys(b).forEach(function(t){clearTimeout(b[t]),delete b[t]})},k=function(){return E(1)},E=function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return t&&n.some(function(e){return t.readyState===e})},A=function(){for(;n.length>0&&v;){var t=n.shift();I(t.request,t.options)}},T=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=new f,o=!0;return e.forEach(function(t){var n=c.get(["response",t]);n?1===e.length&&i.resolve(n):("authorize"!==t||r.isLoggedIn())&&(x.add(t,i),o=!1)}),o&&i.resolve(),i.promise},I=function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.promise||new f,d="function"==typeof r.callback;if(!i||l(i))return a.promise;var m=r.msg_type||O.find(function(t){return t in i});if(!r.forced){var g=o.get(i,m);if(g){if(c.set(["response",m],s(g)),k()&&v&&!r.skip_cache_update&&!d?t.send(JSON.stringify(i),{forced:!0}):1!=+i.time&&n.push({request:i,options:Object.assign(r,{promise:a,forced:!0})}),a.resolve(g),!d)return a.promise;r.callback(g)}}if(!r.forced&&m&&-1!==O.indexOf(m)){var h=c.get(["response",m]);if(h)return a.resolve(h),a.promise;if(S.has(m))return T(m).then(function(t){return a.resolve(t),a.promise})}return i.req_id||(i.req_id=++p),w[i.req_id]={callback:function(t){d?r.callback(t):a.resolve(t)},subscribe:!!i.subscribe},k()&&v&&e.isOnline()?(_=!1,u(i,"passthrough")||u(i,"verify_email")||(i.passthrough={}),t.send(JSON.stringify(i)),e.wsEvent("send"),m&&!S.has(m)&&S.add(m)):1!=+i.time&&n.push({request:i,options:Object.assign(r,{promise:a})}),a.promise};return{init:function(a){g!==d()&&("object"===(void 0===a?"undefined":i(a))&&e!==a&&(e=a,n=[]),j(),e.wsEvent("init"),t&&!E(2,3)||(t=new WebSocket(y),c.set("response",{})),t.onopen=function(){e.wsEvent("open"),r.isLoggedIn()?I({authorize:r.get("token")},{forced:!0}):A(),"function"==typeof e.onOpen&&e.onOpen(k()),"function"==typeof e.onReconnect&&h&&e.onReconnect(),h||(h=!0)},t.onmessage=function(t){e.wsEvent("message");var n=t.data?JSON.parse(t.data):void 0;if(n){o.set(n);var i=n.msg_type;u(n,["echo_req","subscribe"])&&!/balance|website_status/.test(i)||c.set(["response",i],s(n));var r=n.req_id,a=r?w[r]:null;a&&"function"==typeof a.callback&&(a.callback(n),a.subscribe||delete w[r]),x.resolve(n),"InvalidAppID"===u(n,["error","code"])&&(g=d()),"function"==typeof e.onMessage&&e.onMessage(n)}},t.onclose=function(){S.clear(),j(),e.wsEvent("close"),g===d()||"function"!=typeof e.onDisconnect||_||(e.onDisconnect(),_=!0)})},wait:T,send:I,clear:function(t){n=[],t&&(c.set(["response",t],void 0),S.remove(t))},clearTimeouts:j,availability:function(t){return void 0!==t&&(v=!!t),v},hasReadyState:E,sendBuffered:A,get:function(){return t},setOnDisconnect:function(t){e.onDisconnect=t},setOnReconnect:function(t){e.onReconnect=t},removeOnReconnect:function(){delete e.onReconnect},removeOnDisconnect:function(){delete e.onDisconnect}}}();t.exports=p},28:function(t,e,n){"use strict";var i=n(152),r=n(10).getPropertyValue,o=n(10).isEmptyObject,a=n(61).isProduction,c=function(t){return JSON.parse(this.getItem(t)||"{}")},s=function(t,e){e&&e instanceof Object&&this.setItem(t,JSON.stringify(e))};"undefined"!=typeof Storage&&(Storage.prototype.getObject=c,Storage.prototype.setObject=s);var u=function(t){if(void 0===t)return!1;try{return t.setItem("test","1"),t.removeItem("test"),!0}catch(t){return!1}},l=function(t){this.storage=t,this.storage.getObject=c,this.storage.setObject=s};l.prototype={get:function(t){return this.storage.getItem(t)||void 0},set:function(t,e){void 0!==e&&this.storage.setItem(t,e)},getObject:function(t){return"function"==typeof this.storage.getObject?this.storage.getObject(t):JSON.parse(this.storage.getItem(t)||"{}")},setObject:function(t,e){"function"==typeof this.storage.setObject?this.storage.setObject(t,e):this.storage.setItem(t,JSON.stringify(e))},remove:function(t){this.storage.removeItem(t)},clear:function(){this.storage.clear()}};var f=function(t){this.store=void 0!==t?t:{}};f.prototype={get:function(t){return r(this.store,t)},set:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.store,i=t;Array.isArray(i)||(i=[i]),i.length>1?(i[0]in n&&!o(n[i[0]])||(n[i[0]]={}),this.set(i.slice(1),e,n[i[0]])):n[i[0]]=e},getObject:function(t){return JSON.parse(this.get(t)||"{}")},setObject:function(t,e){this.set(t,JSON.stringify(e))},remove:function(){for(var t=this,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];n.forEach(function(e){delete t.store[e]})},clear:function(){this.store={}},has:function(t){return void 0!==this.get(t)},keys:function(){return Object.keys(this.store)},call:function(t){"function"==typeof this.get(t)&&this.get(t)()}};var d=new f;d.prototype=f.prototype,d.prototype.getResponse=function(t){var e=t;if("string"==typeof e){var n=e.split(".");e=["response",n[0]].concat(n)}return this.get(e)},d.set("response",{});var m=function(t,e){var n=window.location.hostname;this.initialized=!1,this.cookie_name=t,this.domain=e||(a()?"."+n.split(".").slice(-2).join("."):n),this.path="/",this.expires=new Date("Thu, 1 Jan 2037 12:00:00 GMT"),this.value={}};m.prototype={read:function(){var t=i.get(this.cookie_name);try{this.value=t?JSON.parse(t):{}}catch(t){this.value={}}this.initialized=!0},write:function(t,e,n){this.initialized||this.read(),this.value=t,e&&(this.expires=e),i.set(this.cookie_name,this.value,{expires:this.expires,path:this.path,domain:this.domain,secure:!!n})},get:function(t){return this.initialized||this.read(),this.value[t]},set:function(t,e){this.initialized||this.read(),this.value[t]=e,i.set(this.cookie_name,this.value,{expires:new Date(this.expires),path:this.path,domain:this.domain})},remove:function(){i.remove(this.cookie_name,{path:this.path,domain:this.domain})}};var p=void 0,g=void 0;u(window.localStorage)&&(g=new l(window.localStorage)),u(window.sessionStorage)&&(p=new l(window.sessionStorage)),g||(g=new f),p||(p=new f),t.exports={isStorageSupported:u,CookieStorage:m,removeCookies:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=["."+document.domain.split(".").slice(-2).join("."),"."+document.domain],o=window.location.pathname.split("/",2)[1];""!==o&&(o="/"+o),e.forEach(function(t){i.remove(t,{path:"/",domain:r[0]}),i.remove(t,{path:"/",domain:r[1]}),i.remove(t),new RegExp(t).test(document.cookie)&&o&&(i.remove(t,{path:o,domain:r[0]}),i.remove(t,{path:o,domain:r[1]}),i.remove(t,{path:o}))})},State:d,SessionStore:p,LocalStore:g}},40:function(t,e,n){"use strict";var i=n(46).urlFor,r=n(46).urlLang,o=n(61).getCurrentProductionDomain;n(480);var a=function(){var t=void 0,e=void 0,n=function(e){for(var n={},i=function(e){for(var n=[],i=((e?new URL(e):t).search||"").substr(1).split("&"),r=i.length;r--;){var o=i[r].split("=");n.push(o)}return n}(e),r=i.length;r--;)i[r][0]&&(n[i[r][0]]=i[r][1]||"");return n},c={"bot.binary.com":"www.binary.bot","developers.binary.com":"developers.binary.com","academy.binary.com":"academy.binary.com","tech.binary.com":"tech.binary.com","blog.binary.com":"blog.binary.com"};return{reset:function(){t=window?window.location:t},paramsHash:n,urlFor:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=(n||r()).toLowerCase(),c=n?r().toLowerCase():a,s=window.location.href,u=s.substring(0,s.indexOf("/"+c+"/")+c.length+2);o&&(u=/localhost|binary\.sx/.test(u)?"https://binary.com/"+c+"/":u.replace(/deriv\.app/,"binary.com"));var l=""+u+(function(t){return t?t.replace(/(^\/|\/$|[^a-zA-Z0-9-_/])/g,""):""}(t)||"home")+".html"+(e?"?"+e:"");return i(a,l)},urlForCurrentDomain:function(t){var e=o();if(!e)return t;var n=new URL(t);if(Object.keys(c).includes(n.hostname))n.hostname=c[n.hostname];else{if(-1===n.hostname.indexOf("binary.com"))return t;n.hostname=n.hostname.replace(new RegExp("\\.binary.com","i"),"."+e)}return n.href},urlForStatic:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e&&0!==e.length||((e=document.querySelector('script[src*="vendor.min.js"]'))&&(e=e.getAttribute("src")),e=e&&e.length>0?e.substr(0,e.indexOf("/js/")+1):a.websiteUrl()),e+t.replace(/(^\/)/g,"")},param:function(t){return n()[t]},websiteUrl:function(){return location.protocol+"//"+location.hostname+"/"},getHostMap:function(){return c},resetStaticHost:function(){e=void 0}}}();t.exports=a},46:function(t,e,n){"use strict";var i=n(152),r=n(28).CookieStorage,o=function(){var t={ACH:"Translations",EN:"English",DE:"Deutsch",ES:"Español",FR:"Français",ID:"Indonesia",IT:"Italiano",PL:"Polish",PT:"Português",RU:"Русский",TH:"Thai",VI:"Tiếng Việt",ZH_CN:"简体中文",ZH_TW:"繁體中文"},e=null,n=new RegExp("^("+Object.keys(t).join("|")+")$","i"),o=function(t){if(e&&!t)return e;var i=(t||window.location.href).split("/").slice(3).find(function(t){return n.test(t)})||"";return t||(e=i),i},a=null,c=function(){if(/ach/i.test(a)||/ach/i.test(o())){var t=localStorage.getItem("jipt_language_code_binary-static")||i.get("jipt_language_code_binary-static");t&&(a=t.toUpperCase().replace("-","_").toUpperCase(),document.body&&document.body.classList.add(a))}return a=a||(o()||i.get("language")||"EN").toUpperCase()};return{getAll:function(){return t},setCookie:function(t){i.get("language")&&!t||new r("language").write((t||c()).toUpperCase())},get:c,urlFor:function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href).replace(new RegExp("/"+c()+"/","i"),"/"+(t||"EN").trim().toLowerCase()+"/")},urlLang:o,reset:function(){e=null,a=null}}}();t.exports=o},472:function(t,e,n){"use strict";Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;--n>=0&&e.item(n)!==this;);return n>-1})},474:function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r=n(25),o=n(5).localize,a=function(){var t,e=function(){var t=void 0;return{get:function(e){return t||(t={online:{class:"online",tooltip:o("Online")},offline:{class:"offline",tooltip:o("Offline")},blinking:{class:"blinker",tooltip:o("Connecting to server")}}),t[e]}}}(),n={},a={ws_init:"ws_init",ws_request:"ws_request"},c=(i(t={},a.ws_init,5e3),i(t,a.ws_request,1e4),t),s=void 0,u=void 0,l=void 0,f=function(){return navigator.onLine},d=function(t){f()?a[t]||"offline"===u?(u="blinking",f()&&r.hasReadyState(2,3)?r.init(s):r.send({ping:1})):u="online":u="offline","function"==typeof l&&l(e.get(u),f())},m={init:function(){return g(a.ws_init)},open:function(){return v(a.ws_init)},send:function(){return g(a.ws_request)},message:function(){return v()},close:function(){return g(a.ws_init)}},p=function(t){"function"==typeof m[t]&&m[t]()},g=function(t){n[t]||(n[t]=setTimeout(function(){n[t]=void 0,d(t)},c[t]))},v=function(t){var e=function(t){clearTimeout(n[t]),n[t]=void 0,t===a.ws_request&&d("online")};t?e(t):Object.keys(n).forEach(e)};return{init:function(t,e){l=e,s=Object.assign({wsEvent:p,isOnline:f},t),"onLine"in navigator?(window.addEventListener("online",d),window.addEventListener("offline",d)):navigator.onLine=!0,f()&&r.init(s),d(f()?"online":"offline")},wsEvent:p}}();t.exports=a},475:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(t){return t&&t.__esModule?t:{default:t}}(n(25)),o=n(10);var a=function(){var t={},e={},n=0,a=function(n,i){var r=(0,o.getPropertyValue)(n,[n.msg_type,"id"])||(0,o.getPropertyValue)(n.subscription,["id"]);if(t[i]){var a=t[i];!a.stream_id&&r&&(a.stream_id=r),a.subscribers.length?((!a.stream_id&&(n.error||!(0,o.isEmptyObject)(n[n.msg_type])&&n.msg_type===a.msg_type)||!r&&a.stream_id)&&delete t[i],a.subscribers.forEach(function(t){t(n)})):(delete t[i],s(a.stream_id))}else e[r]||s(r)},c=function(e,n,i){if("function"!=typeof n)throw new Error("Missing callback function. To forget all subscriptions of msg_type: "+e+", please call forgetAll().");var r=[];return Object.keys(t).forEach(function(o){if(t[o].msg_type===e&&(!i||l(t[o].request,i))){var a=t[o].stream_id;a&&1===t[o].subscribers.length?(delete t[o],r.push(s(a))):u(o,n)&&t[o].subscribers.splice(t[o].subscribers.indexOf(n),1)}}),Promise.all(r)},s=function(t){return e[t]=!0,Promise.resolve(t?r.default.send({forget:t}).then(function(){delete e[t]}):{})},u=function(e,n){return t[e]&&-1!==t[e].subscribers.indexOf(n)},l=function(t,e){return"object"===(void 0===t?"undefined":i(t))&&"object"===(void 0===e?"undefined":i(e))&&Object.keys(e).every(function(n){return t[n]===e[n]})};return{addSubscriptionFromRequest:function(e,i,c,s){return new Promise(function(u){var l=void 0,f=!1;r.default.send(i,{callback:function(i){return i.error?u(i):f?a(i,l):(f=!0,l=++n,s&&Array.isArray(s)&&s.forEach(function(t){i[i.msg_type][t]&&(c[t]=i[i.msg_type][t])}),t[l]={msg_type:e,request:(0,o.cloneObject)(c),stream_id:"",subscribers:[]},u(i))}})})},subscribe:function e(i,s,l){if(arguments.length>3&&void 0!==arguments[3]&&arguments[3])c(i,l).then(function(){e(i,s,l)});else{var f=Object.keys(t).find(function(e){return(0,o.isDeepEqual)(s,t[e].request)});f?u(f,l)||t[f].subscribers.push(l):(f=++n,t[f]={msg_type:i,request:(0,o.cloneObject)(s),stream_id:"",subscribers:[l]},r.default.send(s,{callback:function(t){return a(t,f)}}))}},forget:c,forgetAll:function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var a={};return n.forEach(function(e){var n=Object.keys(t).filter(function(n){return t[n].msg_type===e});n.length&&(n.forEach(function(e){delete t[e]}),a[e]=!0)}),Promise.resolve((0,o.isEmptyObject)(a)?{}:r.default.send({forget_all:Object.keys(a)}))}}}();e.default=a},478:function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(152),o=n(33),a=n(65),c=n(87),s=n(78),u=n(25),l=n(46).get,f=n(28).LocalStore,d=n(28).State,m=n(10).getPropertyValue,p=n(61).getAppId,g=function(){var t=function(){return/^(16303|16929)$/.test(p())},e=function(e){t()&&!c.isLoginPages()&&dataLayer.push(i({},i({language:l()},a.isLoggedIn()&&{visitorId:a.get("loginid"),currency:a.get("currency")},"is_dark_mode_on"in f.getObject("ui_store")&&{theme:f.getObject("ui_store").is_dark_mode_on?"dark":"light"}),e))};return{pushDataLayer:e,eventHandler:function(n){if(t()){var i=localStorage.getItem("GTM_login"),c="1"===localStorage.getItem("GTM_new_account");localStorage.removeItem("GTM_login"),localStorage.removeItem("GTM_new_account");var l=r.getJSON("affiliate_tracking");l&&e({bom_affiliate_token:l.t});var f=window.time||o().utc(),d={visitorId:a.get("loginid"),bom_account_type:a.getAccountType(),bom_currency:a.get("currency"),bom_country:n.country,bom_country_abbrev:n.country_code,bom_email:n.email,url:window.location.href,bom_today:f.unix()};c&&(d.event="new_account",d.bom_date_joined=d.bom_today),a.get("is_virtual")||(d.bom_age=f.diff(o.unix(n.date_of_birth).utc(),"year"),d.bom_firstname=n.first_name,d.bom_lastname=n.last_name,d.bom_phone=n.phone),i?(d.event=i,u.wait("mt5_login_list").then(function(t){(t.mt5_login_list||[]).forEach(function(t){var e=(a.getMT5AccountType(t.group)||"").replace("real_vanuatu","financial").replace("vanuatu_","").replace(/svg/,"gaming");e&&(d["mt5_"+e+"_id"]=t.login)}),e(d)})):e(d),u.send({statement:1,limit:1}).then(function(t){var n=m(t,["statement","transactions","0","transaction_time"]);e({bom_transaction_in_last_30d:!!n&&o(1e3*n).isAfter(s.get().subtract(30,"days"))})})}},pushTransactionData:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t()&&!a.get("is_virtual")&&n.transaction&&n.transaction.action&&["deposit","withdrawal"].includes(n.transaction.action)){var r=window.time||o().utc(),c=JSON.parse(localStorage.getItem("GTM_transactions"))||{};Object.prototype.hasOwnProperty.call(c,"timestamp")&&r.isAfter(o.unix(c.timestamp).utc(),"day")&&(localStorage.removeItem("GTM_transactions"),c={timestamp:r.unix()});var s=c.transactions||[];if(!s.includes(n.transaction.transaction_id)){var u={event:"transaction",bom_account_type:a.getAccountType(),bom_today:r.unix(),transaction:{id:n.transaction.transaction_id,type:n.transaction.action,time:n.transaction.transaction_time,amount:n.transaction.amount,balance:n.transaction.balance}};Object.assign(u,i),e(u),s.push(n.transaction.transaction_id),c.transactions=s,c.timestamp=c.timestamp||r.unix(),localStorage.setItem("GTM_transactions",JSON.stringify(c))}}},mt5NewAccount:function(t){var n=t.mt5_new_account.mt5_account_type?t.mt5_new_account.account_type+"_"+t.mt5_new_account.mt5_account_type:("demo"===t.mt5_new_account.account_type?"demo":"real")+"_gaming",i={event:"mt5_new_account",bom_email:a.get("email"),bom_country:d.getResponse("get_settings.country"),mt5_last_signup:n};i["mt5_"+n+"_id"]=t.mt5_new_account.login,/demo/.test(n)&&!a.get("is_virtual")&&(i.visitorId=a.getAccountOfType("virtual").loginid),e(i)}}}();t.exports=g},479:function(t,e,n){"use strict";t.exports={isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}}},5:function(t,e,n){"use strict";var i=n(33),r=n(10).template,o=function(){var t=void 0,e=function(e,n){var i=e,o=i.replace(/[\s|.]/g,"_");return i=t&&t[o]||i,n?r(i,n):i},n=function(t,n){return Array.isArray(t)?t.map(function(t){return e(t,n)}):e(t,n)};return{localize:n,localizeKeepPlaceholders:function(t){return n(t,[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(new Set(t.match(/\[_(\d+)]/g).sort()))))},forLang:function(e){t=texts_json[e.toUpperCase()],i.locale(e.toLowerCase())}}}();t.exports=o},65:function(t,e,n){"use strict";var i=n(33),r=n(23).isCryptocurrency,o=n(116),a=n(5).localize,c=n(28).LocalStore,s=n(28).State,u=n(10).getPropertyValue,l=n(10).isEmptyObject,f=function(){var t={},e=void 0,n=function(){return!l(m())&&d("loginid")&&d("token")},f=function(n,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;"loginid"===n&&i!==e?(c.set("active_loginid",i),e=i):(r in t||(t[r]={}),t[r][n]=i,c.setObject("client.accounts",t))},d=function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,r=void 0;if("loginid"===n)r=i||c.get("active_loginid");else{var o=t[i]||m()[i]||t;r=n?o[n]:o}return Array.isArray(r)||1!=+r&&0!=+r&&"true"!==r&&"false"!==r||(r=JSON.parse(r||!1)),r},m=function(){return c.getObject("client.accounts")},p=function(){return Object.keys(m())},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=void 0;return/^VR/.test(t)?n="virtual":/^MF/.test(t)?n="financial":/^MLT|MX/.test(t)&&(n="gaming"),n},v=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=g(n);return("virtual"===t&&"virtual"===r||"real"===t&&"virtual"!==r||t===r)&&(!i||!d("is_disabled",n))},_=function(t,e){var n=p().find(function(n){return v(t,n,e)});return n?Object.assign({loginid:n},d(null,n)):{}},h=function(){var t=void 0;return{get:function(){return t||(t={default:a("Real"),financial:a("Investment"),gaming:a("Gaming"),virtual:a("Virtual")}),t}}}(),y=function(t){t.forEach(function(t){f("excluded_until",t.excluded_until||"",t.loginid),Object.keys(t).forEach(function(e){var n="country"===e?"residence":e,i=void 0===t[e]?"":t[e];"loginid"!==n&&f(n,i,t.loginid)})})},b=function(t){if(t===e||d("is_virtual",t)||d("is_virtual")||d("is_disabled",t))return!1;var n=d("currency"),i=d("currency",t);if(!n||!i)return!1;if(n===i){var o=d("landing_company_shortcode"),a=d("landing_company_shortcode",t);return({maltainvest:"malta",malta:"maltainvest"}[o]||"")===a}var c=r(n),s=r(i);return c?!s:s};return{init:function(){e=c.get("active_loginid"),t=m()},isLoggedIn:n,isValidLoginid:function(){if(!n())return!0;var t=new RegExp("^(MX|MF|VRTC|MLT|CR|FOG)[0-9]+$","i");return p().every(function(e){return t.test(e)})},set:f,get:d,getAllLoginids:p,getAccountType:g,isAccountOfType:v,getAccountOfType:_,hasAccountType:function(t,e){return!l(_(t,e))},hasCurrencyType:function(t){var e=p();return"crypto"===t?e.find(function(t){return!d("is_virtual",t)&&r(d("currency",t))}):e.find(function(t){return!d("is_virtual",t)&&!r(d("currency",t))})},getAccountTitle:function(t){var e=h.get();return e[g(t)]||e.default},responseAuthorize:function(t){var e=t.authorize;f("email",e.email),f("currency",e.currency),f("is_virtual",+e.is_virtual),f("session_start",parseInt(i().valueOf()/1e3)),f("landing_company_shortcode",e.landing_company_name),y(e.account_list)},shouldAcceptTnc:function(){if(d("is_virtual"))return!1;var t=s.getResponse("website_status.terms_conditions_version"),e=s.getResponse("get_settings.client_tnc_status");return void 0!==e&&e!==t},clearAllAccounts:function(){e=void 0,t={},c.setObject("client.accounts",t)},setNewAccount:function(t){return!!(t.email&&t.loginid&&t.token)&&(o.clear(),localStorage.setItem("GTM_new_account","1"),f("token",t.token,t.loginid),f("email",t.email,t.loginid),f("is_virtual",+t.is_virtual,t.loginid),f("loginid",t.loginid),!0)},currentLandingCompany:function(){var t=s.getResponse("landing_company")||{},e=d("landing_company_shortcode"),n=Object.keys(t).find(function(n){return e===t[n].shortcode});return t[n]||{}},shouldCompleteTax:function(){return v("financial")&&!/crs_tin_information/.test((s.getResponse("get_account_status")||{}).status)},getAllAccountsObject:m,getMT5AccountType:function(t){return t?t.replace("\\","_").replace(/_(\d+|master|EUR|GBP)/,""):""},getBasicUpgradeInfo:function(){var t=s.getResponse("authorize.upgradeable_landing_companies"),e=!1,n=void 0,i=void 0;if((t||[]).length){var r=d("landing_company_shortcode");e=-1!==t.indexOf(r),(i=function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.find(function(e){return e!==r&&-1!==t.indexOf(e)})}("svg","iom","malta","maltainvest"))&&(n="maltainvest"===i?"financial":"real")}return{type:n,can_upgrade:!!i,can_upgrade_to:i,can_open_multi:e}},getLandingCompanyValue:function(t,e,n){var i=void 0;if(t.financial||v("financial",t))i=u(e,"financial_company");else{if(!t.real&&!v("real",t)){var r=(u(e,"financial_company")||{})[n]||[],o=(u(e,"gaming_company")||{})[n]||[];return i=r.concat(o)}(i=u(e,"gaming_company"))||(i=u(e,"financial_company"))}return(i||{})[n]},getRiskAssessment:function(){var t=s.getResponse("get_account_status.status"),e=/high/.test(s.getResponse("get_account_status.risk_classification"));return v("financial")?/(financial_assessment|trading_experience)_not_complete/.test(t):e&&/financial_assessment_not_complete/.test(t)},canTransferFunds:function(e){return e?b(e.loginid):Object.keys(t).some(function(t){return b(t)})},hasSvgAccount:function(){return!!p().find(function(t){return/^CR/.test(t)})},canChangeCurrency:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=d("currency"),o=0===e.length,a=0===t.count&&0===t.transactions.length&&o;return n?i&&!d("is_virtual")&&a&&!r(i):a}}}();t.exports=f},78:function(t,e,n){"use strict";var i=n(33),r=n(25),o=n(10).PromiseClass,a=function(){var t=!1,e=new o,n=void 0,a=void 0,c=void 0,s=void 0,u=void 0,l=function(e){t||(u=e,f(),clearInterval(c),c=setInterval(f,3e4),t=!0)},f=function(){a=performance.now(),r.send({time:1}).then(d)},d=function(r){if(!r.error)if(t){clearInterval(s);var o=r.time,c=performance.now(),f=1e3*o+(c-a),d=function(){var t=performance.now()-c;n=i(f+t).utc(),"function"==typeof u&&u()};d(),e.resolve(),s=setInterval(d,1e3)}else l()};return{init:l,get:function(){return n?n.clone():void 0},timePromise:e.promise}}();t.exports=a},87:function(t,e,n){"use strict";var i=n(65),r=n(154).getElementById,o=n(46).get,a=n(479).isMobile,c=n(28).isStorageSupported,s=n(28).LocalStore,u=n(40).urlForCurrentDomain,l=n(61).domain_app_ids,f=n(61).getAppId,d=function(){var t=function(){var t=localStorage.getItem("config.server_url"),e=o(),n=s.get("signup_device")||(a()?"mobile":"desktop"),i=s.get("date_first_contact"),r="&signup_device="+n+(i?"&date_first_contact="+i:""),c="https://oauth.binary.com/oauth2/authorize?app_id="+f()+"&l="+e+r;return t&&/qa/.test(t)?"https://"+t+"/oauth2/authorize?app_id="+f()+"&l="+e+r:f===l["deriv.app"]?c:u(c)},e=function(){return/logged_inws|redirect/i.test(window.location.pathname)};return{redirectToLogin:function(){i.isLoggedIn()||e()||!c(sessionStorage)||(sessionStorage.setItem("redirect_url",window.location.href),window.location.href=t())},isLoginPages:e,initOneAll:function(){["google","facebook"].forEach(function(e){var n=r("#button_"+e);n.removeEventListener("click"),n.addEventListener("click",function(n){n.preventDefault(),window.location.href=function(e){return t()+"&social_signup="+e}(e)})})}}}();t.exports=d}}]);
//# sourceMappingURL=binary_common.min.js.map