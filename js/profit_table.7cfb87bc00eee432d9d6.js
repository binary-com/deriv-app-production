(window.webpackJsonp=window.webpackJsonp||[]).push([["profit_table"],{587:function(e,t,n){"use strict";var o=n(1),a=n.n(o),r=n(0),i=n.n(r),l=n(3),c=n(184),s=n(34),u=n(5),f=n.n(u);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var h=function(e){var t=e.className,n=d(e,["className"]);return i.a.createElement("svg",p({className:f()("inline-icon",t),width:"16",height:"16",viewBox:"0 0 16 16"},n),i.a.createElement("g",{fill:"#7F8397",fillRule:"nonzero"},i.a.createElement("path",{className:"color1-fill",d:"M4 3H2v11h12V3h-2v.5a.5.5 0 1 1-1 0V3H5v.5a.5.5 0 0 1-1 0V3zm1-1h6v-.5a.5.5 0 1 1 1 0V2h2a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h2v-.5a.5.5 0 0 1 1 0V2zM2 5h12v1H2V5z"}),i.a.createElement("path",{className:"color1-fill",d:"M10.134 9H4.5a.5.5 0 0 1 0-1h5.634a1 1 0 1 1 0 1zM4 11h7.5a.5.5 0 1 1 0 1H4v-1z"})))};h.propTypes={className:a.a.string,classNamePath:a.a.string,onClick:a.a.func};var m=h,b=n(4),y=function(e){var t=e.onClick,n=e.is_active,o=e.children;return i.a.createElement("li",{className:f()({"composite-calendar__prepopulated-list--is-active":n}),onClick:t},o)};y.propTypes={children:a.a.oneOfType([a.a.func,a.a.node,a.a.array]),is_active:a.a.bool,onClick:a.a.func};var _=y;function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var O=function(e){var t=e.items,n=e.from,o=e.to;return i.a.createElement("ul",{className:"composite-calendar__prepopulated-list"},t.map(function(e){var t=e.duration,a=g(e,["duration"]),r=function(e,t,n){return 0===n?Object(b.w)().endOf("day").unix()===t&&null===e:Math.ceil(t/86400)-Math.ceil(e/86400)===n}(n,o,t);return i.a.createElement(_,v({key:t,is_active:r},a))}))};O.propTypes={items:a.a.array};var w=O;function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){function t(e){var n,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,a=C(t).call(this,e),(n=!a||"object"!==j(a)&&"function"!=typeof a?D(o):a).state={show_to:!1,show_from:!1,list:[{children:Object(l.localize)("All time"),onClick:function(){return n.selectDateRange(0)},duration:0},{children:Object(l.localize)("Last 7 days"),onClick:function(){return n.selectDateRange(7)},duration:7},{children:Object(l.localize)("Last 30 days"),onClick:function(){return n.selectDateRange(30)},duration:30},{children:Object(l.localize)("Last 60 days"),onClick:function(){return n.selectDateRange(60)},duration:60},{children:Object(l.localize)("Last quarter"),onClick:function(){return n.selectDateRange(90)},duration:90}]},n.setWrapperRef=n.setWrapperRef.bind(D(n)),n.handleClickOutside=n.handleClickOutside.bind(D(n)),n}var o,a,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,i.a.PureComponent),o=t,(a=[{key:"selectDateRange",value:function(e){this.hideCalendar(),this.applyBatch({from:e?Object(b.w)().startOf("day").subtract(e,"day").add(1,"s").unix():null,to:Object(b.w)().endOf("day").unix()})}},{key:"hideCalendar",value:function(){this.setState({show_from:!1,show_to:!1})}},{key:"showCalendar",value:function(e){this.setState(k({},"show_".concat(e),!0))}},{key:"setWrapperRef",value:function(e){this.wrapperRef=e}},{key:"handleClickOutside",value:function(e){this.wrapperRef&&!this.wrapperRef.contains(e.target)&&(e.stopPropagation(),e.preventDefault(),this.hideCalendar())}},{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"setToDate",value:function(e){this.updateState("to",Object(b.g)(e).endOf("day").unix())}},{key:"setFromDate",value:function(e){this.updateState("from",e)}},{key:"updateState",value:function(e,t){this.apply(e,t)}},{key:"applyBatch",value:function(e){this.props.onChange(e)}},{key:"apply",value:function(e,t){this.applyBatch(k({},e,t))}},{key:"isPeriodDisabledTo",value:function(e){return e+1<=this.props.from||e>Object(b.w)().endOf("day").unix()}},{key:"isPeriodDisabledFrom",value:function(e){return e-1>=this.props.to}},{key:"render",value:function(){var e=this.state,t=e.show_from,o=e.show_to,a=e.list,r=this.props,u=r.to,f=r.from;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{id:"dt_composite_calendar_inputs",className:"composite-calendar__input-fields"},i.a.createElement(c.a,{id:"dt_calendar_input_from",is_read_only:!0,placeholder:Object(l.localize)("Date from"),icon:m,onClick:this.showCalendar.bind(this,"from"),value:this.from_date_label}),i.a.createElement(c.a,{id:"dt_calendar_input_to",is_read_only:!0,placeholder:Object(l.localize)("Date to"),icon:m,onClick:this.showCalendar.bind(this,"to"),value:this.to_date_label})),o&&i.a.createElement("div",{className:"composite-calendar",ref:this.setWrapperRef},i.a.createElement(w,{from:f,to:u,items:a}),i.a.createElement(s.a,{ctor:function(){return n.e("two-month-picker").then(n.bind(null,632))},should_load:!0,has_progress:!1,value:u,onChange:this.setToDate.bind(this),isPeriodDisabled:this.isPeriodDisabledTo.bind(this)})),t&&i.a.createElement("div",{className:"composite-calendar",ref:this.setWrapperRef},i.a.createElement(w,{from:f,to:u,items:a}),i.a.createElement(s.a,{ctor:function(){return n.e("two-month-picker").then(n.bind(null,632))},should_load:!0,has_progress:!1,value:f,onChange:this.setFromDate.bind(this),isPeriodDisabled:this.isPeriodDisabledFrom.bind(this)})))}},{key:"to_date_label",get:function(){var e=Object(b.g)(this.props.to);return 0===Object(b.e)(e)?Object(l.localize)("Today"):e.format("MMM, DD YYYY")}},{key:"from_date_label",get:function(){var e=Object(b.g)(this.props.from);return this.props.from?e.format("MMM, DD YYYY"):""}}])&&E(o.prototype,a),r&&E(o,r),t}();S.propTypes={from:a.a.number,onChange:a.a.func,to:a.a.number};t.a=S},644:function(e,t,n){"use strict";n.r(t);var o=n(1),a=n.n(o),r=n(13),i=n(0),l=n.n(i),c=n(32),s=n(3),u=n(33),f=n(118),p=n(595),d=n(19),h=n(587),m=n(94),b=n(28),y=n(11),_=n(589),v=n(596),g=n(590),O=n(594),w=n(183),j=n.n(w);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function C(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=C(this,(e=D(t)).call.apply(e,[this].concat(a)))).getRowAction=function(e){return Object(b.c)()[j.a.extractInfoFromShortcode(e.shortcode).category.toUpperCase()]?Object(m.b)(e.contract_id):{component:l.a.createElement(d.a,{i18n_default_text:"This trade type is currently not supported on {{website_name}}. Please go to <0>Binary.com</0> for details.",values:{website_name:f.website_name},components:[l.a.createElement("a",{key:0,className:"link link--orange",rel:"noopener noreferrer",target:"_blank",href:Object(u.urlFor)("user/profit_tablews",void 0,void 0,!0)})]})}},n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,l.a.Component),n=t,(o=[{key:"componentDidMount",value:function(){this.props.onMount()}},{key:"componentWillUnmount",value:function(){this.props.onUnmount()}},{key:"render",value:function(){var e=this.props,t=e.component_icon,n=e.currency,o=e.data,a=e.date_from,r=e.date_to,i=e.is_empty,c=e.is_loading,u=e.error,f=e.handleDateChange,d=e.handleScroll,m=e.has_selected_date,b=e.totals;if(u)return l.a.createElement("p",null,u);var y=l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,{onChange:f,from:a,to:r})),w=Object(O.b)(n,o.length);return l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,{i18n_heading:Object(s.localize)("Profit table"),i18n_message:Object(s.localize)("View all trades purchased on your account, and a summary of your total profit/loss."),filter_component:y}),c&&0===o.length||i?l.a.createElement(v.a,{is_loading:c,has_selected_date:m,is_empty:i,empty_message_component:_.a,component_icon:t,localized_message:Object(s.localize)("You have no trading activity yet."),localized_period_message:Object(s.localize)("You have no trading activity for this period.")}):l.a.createElement(p.a,{className:"profit-table",data_source:o,columns:w,onScroll:d,footer:b,is_empty:i,getRowAction:this.getRowAction},l.a.createElement(v.a,{is_loading:c})))}}])&&E(n.prototype,o),a&&E(n,a),t}();S.propTypes={component_icon:a.a.string,currency:a.a.string,data:r.PropTypes.arrayOrObservableArray,date_from:a.a.number,date_to:a.a.number,error:a.a.string,handleDateChange:a.a.func,handleScroll:a.a.func,has_selected_date:a.a.bool,history:a.a.object,is_empty:a.a.bool,is_loading:a.a.bool,onMount:a.a.func,onUnmount:a.a.func,totals:a.a.object};t.default=Object(y.b)(function(e){var t=e.modules;return{currency:e.client.currency,data:t.profit_table.data,date_from:t.profit_table.date_from,date_to:t.profit_table.date_to,error:t.profit_table.error,handleScroll:t.profit_table.handleScroll,handleDateChange:t.profit_table.handleDateChange,has_selected_date:t.profit_table.has_selected_date,is_empty:t.profit_table.is_empty,is_loading:t.profit_table.is_loading,onMount:t.profit_table.onMount,onUnmount:t.profit_table.onUnmount,totals:t.profit_table.totals}})(Object(c.g)(S))}}]);
//# sourceMappingURL=profit_table.7cfb87bc00eee432d9d6.js.map