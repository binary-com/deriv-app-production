(window.webpackJsonp=window.webpackJsonp||[]).push([["AccountSignupModal"],{756:function(e,n,t){},776:function(e,n,t){"use strict";t.r(n);var r=t(4),a=t.n(r),i=t(223),o=t.n(i),s=(t(332),t(52)),c=t.n(s),l=(t(230),t(21)),u=t.n(l),p=(t(54),t(738)),d=t.n(p),f=(t(739),t(26)),b=t(1),_=t.n(b),m=t(0),g=t.n(m),y=t(12),w=t(3),v=t(10),h=t(48),O=t(78);t(756);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(){return(S=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function j(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function A(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function x(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,n){return!n||"object"!==E(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,n){return(C=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var k={password:"",residence:""},D=function(e){function n(){var e,t;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=P(this,(e=N(n)).call.apply(e,[this].concat(a)))).state={has_valid_residence:!1},t.onResidenceSelection=function(){t.setState({has_valid_residence:!0})},t.onSignupComplete=function(e){if(e)throw Error(e);t.props.isModalVisible(!1),t.props.enableApp()},t}var t,r,i;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&C(e,n)}(n,e),t=n,(r=[{key:"render",value:function(){var e=this,n=this.props,t=n.onSignup,r=n.residence_list;return g.a.createElement("div",{className:"account-signup"},g.a.createElement(f.d,{initialValues:k,validate:function(e){return function(e,n){var t={};if(e.password&&(e.password.length<6||!Object(h.f)(e.password))&&(t.password=!0),e.residence){var r=n.findIndex((function(n){return n.text.toLowerCase()===e.residence.toLowerCase()}));-1!==r&&"DISABLED"!==n[r].disabled||(t.residence=Object(w.localize)("Unfortunately, {{website_name}} is not available in your country.",{website_name:O.website_name}))}else t.residence=!0;return t}(e,r)},onSubmit:function(n){var a=r.findIndex((function(e){return e.text.toLowerCase()===n.residence.toLowerCase()})),i=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?j(t,!0).forEach((function(n){A(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},n,{residence:r[a].value});t(i,e.onSignupComplete)}},(function(n){var t=n.isSubmitting,i=n.errors,s=n.values,l=n.setFieldValue,p=n.touched;return g.a.createElement(f.c,null,g.a.createElement(g.a.Fragment,null,e.state.has_valid_residence?g.a.createElement("div",{className:"account-signup__password-selection"},g.a.createElement("p",{className:"account-signup__heading"},g.a.createElement(y.a,{i18n_default_text:"Keep your account secure with a password"})),g.a.createElement(f.b,{name:"password"},(function(e){var n=e.field;return g.a.createElement(c.a,S({},n,{className:"account-signup__password-field",type:"password",label:Object(w.localize)("Create a password"),error:p.password&&i.password,required:!0}))})),g.a.createElement("p",{className:"account-signup__subtext"},g.a.createElement(y.a,{i18n_default_text:"Strong passwords contain at least 6 characters, combine uppercase and lowercase letters, numbers, and symbols."})),g.a.createElement(u.a,{className:a()("account-signup__btn",{"account-signup__btn--disabled":!s.password||i.password||t}),type:"submit",is_disabled:!s.password||i.password||t},g.a.createElement(y.a,{i18n_default_text:"Start trading"}))):g.a.createElement("div",{className:"account-signup__residence-selection"},g.a.createElement("p",{className:"account-signup__heading"},g.a.createElement(y.a,{i18n_default_text:"Thanks for verifying your email"})),g.a.createElement("p",{className:"account-signup__text"},g.a.createElement(y.a,{i18n_default_text:"Where are you a resident?"})),g.a.createElement(f.b,{name:"residence"},(function(e){var n=e.field;return g.a.createElement(o.a,S({},n,{className:"account-signup__residence-field",type:"text",label:Object(w.localize)("Choose country"),error:p.residence&&i.residence,required:!0,list_items:r,onItemSelection:function(e){return l("residence",e.text,!0)}}))})),g.a.createElement(u.a,{className:a()("account-signup__btn",{"account-signup__btn--disabled":!s.residence||i.residence}),type:"button",is_disabled:!s.residence||i.residence,onClick:e.onResidenceSelection},g.a.createElement(y.a,{i18n_default_text:"Next"})))))})))}}])&&x(t.prototype,r),i&&x(t,i),n}(g.a.Component);D.propTypes={onSignup:_.a.func,residence_list:_.a.array};var M=function(e){var n=e.enableApp,t=e.disableApp,r=e.is_loading,a=e.is_visible,i=e.onSignup,o=e.residence_list,s=e.toggleAccountSignupModal;return g.a.createElement(d.a,{is_visible:a,disableApp:t,enableApp:n,is_loading:r},g.a.createElement(D,{onSignup:i,residence_list:o,isModalVisible:s,enableApp:n}))};M.propTypes={disableApp:_.a.func,enableApp:_.a.func,is_loading:_.a.bool,is_visible:_.a.bool,onSignup:_.a.func,residence_list:_.a.arrayOf(_.a.object)};var L=Object(v.b)((function(e){var n=e.ui,t=e.client;return{is_visible:n.is_account_signup_modal_visible,toggleAccountSignupModal:n.toggleAccountSignupModal,enableApp:n.enableApp,disableApp:n.disableApp,is_loading:n.is_loading,onSignup:t.onSignup,residence_list:t.residence_list}}))(M);t.d(n,"default",(function(){return L}))}}]);
//# sourceMappingURL=AccountSignupModal.bda6a2cf7ad432b9931a.js.map