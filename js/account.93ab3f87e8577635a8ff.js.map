{"version":3,"sources":["webpack:///./App/Components/Elements/SideMenu/side-menu-headers.jsx","webpack:///./App/Components/Elements/SideMenu/side-menu.jsx","webpack:///./Modules/Account/Helpers/flatten.js","webpack:///./Modules/Account/Sections/Security/AccountLimits/account-limits-info.jsx","webpack:///./Modules/Account/Containers/account.jsx"],"names":["MainHeaderLayout","children","className","SubHeaderLayout","MainHeaders","items","handleSubroute","active_title","map","item","key","title","classNames","onChange","icon","SubHeaders","selected","is_routed","SideMenuHeaders","props","history","push","subroutes","path","this","header_title","filter","React","PureComponent","SideMenuHeadersWithRouter","withRouter","SideMenuTitle","SideMenu","action_bar","action_bar_classname","id","is_full_width","list","sub_list","selected_content","tab_container_classname","action_bar_items","component","propTypes","PropTypes","arrayOf","shape","oneOfType","func","object","string","onClick","bool","default","label","value","isRequired","currency_name_map","BTC","localize","BCH","ETH","ETC","LTC","UST","USB","USD","AUD","EUR","GBP","AccountLimitsInfo","currency","is_virtual","type","toLowerCase","i18n_default_text","values","currency_name","toUpperCase","fallback_content","lazy","Account","setWrapperRef","node","wrapper_ref","handleClickOutside","event","contains","target","classList","AppRoutes","trade","enableRouteMode","document","addEventListener","toggleAccount","disableRouteMode","removeEventListener","test","location","pathname","arr","routes","i","concat","route","personal_details","find","sub_route","is_visible","keyname","ref","alignment","Component","connect","client","ui","disableRouteModal","setRouteModal","is_account_settings_visible","toggleAccountSettings"],"mappings":"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","file":"js/account.93ab3f87e8577635a8ff.js","sourcesContent":["import classNames         from 'classnames';\nimport React              from 'react';\nimport { withRouter }     from 'react-router-dom';\nimport Icon               from 'Assets/icon.jsx';\nimport {\n    VerticalTabHeaders,\n    VerticalTabHeader }   from '../VerticalTabs';\n\nconst MainHeaderLayout = ({ children }) => <div className='side-menu__main-header-layout'>{children}</div>;\n\nconst SubHeaderLayout = ({ children }) => <div className='side-menu__sub-header-layout'>{children}</div>;\n\nconst MainHeaders = ({ items, handleSubroute, active_title }) => (\n    <>\n        {items.map(item => (\n            <div key={item.title} className='side-menu'>\n                <VerticalTabHeader\n                    item={item}\n                    className={classNames('side-menu__header', {\n                        'side-menu__header--active': item.title === active_title,\n                    })}\n                    onChange={handleSubroute}\n                >\n                    <Icon\n                        icon='IconChevronRight'\n                        className='side-menu__icon'\n                    />\n                </VerticalTabHeader>\n            </div>\n        ))}\n    </>\n);\n\nconst SubHeaders = ({ items, onChange, selected, is_routed }) => (\n    <VerticalTabHeaders\n        items={items}\n        onChange={onChange}\n        selected={selected}\n        is_routed={is_routed}\n    />\n);\n\nclass SideMenuHeaders extends React.PureComponent {\n    handleSubroute = selected => {\n        const { active_title, history } = this.props;\n\n        if (selected.title !== active_title) {\n            history.push(selected.subroutes[0].path);\n        }\n    }\n\n    render() {\n        const { active_title, onChange, selected, items, header_title, is_routed } = this.props;\n        const subroutes = items.filter(item => item.title === active_title)[0].subroutes;\n\n        return (\n            <>\n                <MainHeaderLayout>\n                    {header_title &&\n                        <div className='side-menu__heading'>\n                            <h1 className='side-menu__title'>{header_title}</h1>\n                        </div>\n                    }\n                    <MainHeaders items={items} handleSubroute={this.handleSubroute} active_title={active_title} />\n                </MainHeaderLayout>\n                <SubHeaderLayout>\n                    <SubHeaders items={subroutes} onChange={onChange} selected={selected} is_routed={is_routed} />\n                </SubHeaderLayout>\n            </>\n        );\n    }\n}\n\nconst SideMenuHeadersWithRouter = withRouter(SideMenuHeaders);\n\nexport { SideMenuHeadersWithRouter as SideMenuHeaders };\n","import PropTypes                 from 'prop-types';\nimport React                     from 'react';\nimport { SideMenuHeaders }       from './side-menu-headers.jsx';\nimport {\n    VerticalTabContentContainer,\n    VerticalTabLayout }          from '../VerticalTabs';\n\nconst SideMenuTitle = ({ title }) => (<h1 className='side-menu__title'>{title}</h1>);\n\nclass SideMenu extends React.PureComponent {\n    render() {\n        const {\n            active_title,\n            action_bar,\n            action_bar_classname,\n            header_title,\n            id,\n            is_full_width,\n            is_routed,\n            list,\n            sub_list,\n            selected_content,\n            tab_container_classname,\n        } = this.props;\n\n        const Component = () => <SideMenuTitle title={selected_content.title} />;\n        const action_bar_items = [\n            ...action_bar,\n            {\n                component: Component,\n            },\n        ];\n\n        return (\n            <VerticalTabLayout is_full_width={is_full_width}>\n                <SideMenuHeaders\n                    active_title={active_title}\n                    header_title={header_title}\n                    items={list}\n                    selected={selected_content}\n                    is_routed={is_routed}\n                    onChange={()=>{}}\n                />\n                <VerticalTabContentContainer\n                    action_bar={action_bar_items}\n                    action_bar_classname={action_bar_classname}\n                    id={id}\n                    items={sub_list}\n                    is_routed={is_routed}\n                    selected={selected_content}\n                    tab_container_classname={tab_container_classname}\n                />\n            </VerticalTabLayout>\n        );\n    }\n}\n\nSideMenu.propTypes = {\n    action_bar: PropTypes.arrayOf(\n        PropTypes.shape({\n            component: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n            icon     : PropTypes.string,\n            onClick  : PropTypes.func,\n            title    : PropTypes.string,\n        })\n    ),\n    action_bar_classname: PropTypes.string,\n    id                  : PropTypes.string,\n    is_full_width       : PropTypes.bool,\n    list                : PropTypes.arrayOf(\n        PropTypes.shape({\n            default: PropTypes.bool,\n            icon   : PropTypes.string,\n            label  : PropTypes.string,\n            path   : PropTypes.string,\n            value  : PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n        })\n    ).isRequired,\n    selected_content: PropTypes.object,\n};\n\nexport default SideMenu;\n","export const flatten = arr => [].concat(...arr);\n","import PropTypes    from 'prop-types';\nimport React        from 'react';\nimport Icon         from 'Assets/icon.jsx';\nimport Localize     from 'App/Components/Elements/localize.jsx';\nimport { localize } from 'App/i18n';\n\nconst currency_name_map = {\n    BTC: localize('Bitcoin'),\n    BCH: localize('Bitcoin Cash'),\n    ETH: localize('Ether'),\n    ETC: localize('Ether Classic'),\n    LTC: localize('Litecoin'),\n    UST: localize('Tether'),\n    USB: localize('Binary Coin'),\n    USD: localize('US Dollar'),\n    AUD: localize('Australian Dollar'),\n    EUR: localize('Euro'),\n    GBP: localize('Pound Sterling'),\n\n};\n\nconst AccountLimitsInfo = ({\n    currency,\n    is_virtual,\n}) => (\n    <>\n        {!is_virtual &&\n            <>\n                <Icon\n                    className='account__inset_header-icon'\n                    icon='IconAccountsCurrency'\n                    type={currency.toLowerCase()}\n                />\n                <p className='account__inset_header-subheading'>\n                    <Localize\n                        i18n_default_text='For your {{currency_name}} ({{currency}}) account'\n                        values={{\n                            currency_name: currency_name_map[currency.toUpperCase()],\n                            currency     : currency.toUpperCase(),\n                        }}\n                    />\n                </p>\n\n            </>\n        }\n    </>\n);\n\nAccountLimitsInfo.propTypes = {\n    currency  : PropTypes.string,\n    is_virtual: PropTypes.bool,\n};\n\nexport default AccountLimitsInfo;\n","import PropTypes        from 'prop-types';\nimport React, { lazy }  from 'react';\nimport { withRouter }   from 'react-router-dom';\nimport SideMenu         from 'App/Components/Elements/SideMenu';\nimport { FadeWrapper }  from 'App/Components/Animations';\nimport { localize }     from 'App/i18n';\nimport AppRoutes        from 'Constants/routes';\nimport { connect }      from 'Stores/connect';\nimport { flatten }      from '../Helpers/flatten';\nimport AccountLimitInfo from '../Sections/Security/AccountLimits/account-limits-info.jsx';\nimport 'Sass/app/modules/account.scss';\n\nconst DemoMessage = lazy(() => import(/* webpackChunkName: 'demo_message' */ 'Modules/Account/Sections/ErrorMessages/DemoMessage'));\n\nconst fallback_content = {\n    'path'     : '/account/personal-details',\n    'component': DemoMessage,\n    'title'    : 'Personal details',\n};\n\nclass Account extends React.Component {\n    setWrapperRef = (node) => {\n        this.wrapper_ref = node;\n    };\n\n    handleClickOutside = (event) => {\n        if (this.wrapper_ref && !this.wrapper_ref.contains(event.target) && !event.target.classList.contains('dc-dropdown-list__item')) {\n            this.props.history.push(AppRoutes.trade);\n        }\n    };\n\n    componentDidMount() {\n        this.props.enableRouteMode();\n        document.addEventListener('mousedown', this.handleClickOutside);\n        this.props.toggleAccount(true);\n    }\n\n    componentWillUnmount() {\n        this.props.toggleAccount(false);\n        this.props.disableRouteMode();\n        document.removeEventListener('mousedown', this.handleClickOutside);\n    }\n    \n    render () {\n        const action_bar_items = [\n            {\n                onClick: () => {\n                    this.props.history.push(AppRoutes.trade);\n                },\n                icon : 'ModalIconClose',\n                title: localize('Close'),\n            },\n        ];\n\n        const is_account_limits_route = /account-limits/.test(this.props.location.pathname);\n        if (is_account_limits_route) {\n            action_bar_items.push({\n                component: () => <AccountLimitInfo currency={this.props.currency} is_virtual={this.props.is_virtual} />,\n            });\n        }\n\n        const subroutes      = flatten(this.props.routes.map(i => i.subroutes));\n        let selected_content = subroutes.filter(route => route.path === this.props.location.pathname)[0];\n\n        if (!selected_content) { // fallback\n            selected_content = subroutes[0];\n            this.props.history.push(AppRoutes.personal_details);\n        }\n\n        const { title: active_title } = this.props.routes\n            .find(route => route.subroutes\n                .find((sub_route) => sub_route.title === selected_content.title));\n\n        return (\n            <FadeWrapper\n                is_visible={this.props.is_visible}\n                className='account-page-wrapper'\n                keyname='account-page-wrapper'\n            >\n                <div className='account' ref={this.setWrapperRef}>\n                    <SideMenu\n                        active_title={active_title}\n                        action_bar={action_bar_items}\n                        action_bar_classname='account__inset_header'\n                        alignment='center'\n                        fallback_content={fallback_content}\n                        header_title={localize('Settings')}\n                        is_routed={true}\n                        is_full_width={true}\n                        list={this.props.routes}\n                        selected_content={selected_content}\n                        sub_list={subroutes}\n                        tab_container_classname='account__tab_container'\n                    />\n                </div>\n            </FadeWrapper>\n        );\n    }\n}\n\nAccount.propTypes = {\n    disableRouteMode: PropTypes.func,\n    enableRouteMode : PropTypes.func,\n    history         : PropTypes.object,\n    is_visible      : PropTypes.bool,\n    location        : PropTypes.object,\n    routes          : PropTypes.arrayOf(PropTypes.object),\n    toggleAccount   : PropTypes.func,\n};\n\nexport default connect(\n    ({ client, ui }) => ({\n        currency        : client.currency,\n        is_virtual      : client.is_virtual,\n        disableRouteMode: ui.disableRouteModal,\n        enableRouteMode : ui.setRouteModal,\n        is_visible      : ui.is_account_settings_visible,\n        toggleAccount   : ui.toggleAccountSettings,\n    })\n)(withRouter(Account));\n"],"sourceRoot":""}