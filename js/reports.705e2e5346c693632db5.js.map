{"version":3,"sources":["webpack:///./App/Components/Elements/Label/label.jsx","webpack:///./Modules/Reports/Containers/wallet-information.jsx","webpack:///./Modules/Reports/Containers/reports.jsx"],"names":["available_modes","available_sizes","Label","_ref","_classNames","mode","children","_ref$size","size","type","some","m","scale","s","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","className","classNames","_defineProperty","concat","propTypes","PropTypes","oneOfType","arrayOf","node","oneOf","connect","_ref2","client","balance","currency","is_virtual","is_website_status_ready","loginid","react_default","icon","toLowerCase","localize","i18n_default_text","values","toUpperCase","label","money","amount","Reports","setWrapperRef","_this","wrapper_ref","handleClickOutside","event","contains","target","props","history","push","AppRoutes","trade","React","Component","localStorage","removeItem","this","showBlur","document","addEventListener","toggleReports","hideBlur","removeEventListener","options","_this2","action_bar_items","onClick","title","component","wallet_information","Animations","is_visible","keyname","ref","vertical_tab","header_title","action_bar","action_bar_classname","alignment","classNameHeader","current_path","location","pathname","is_routed","is_full_width","list","routes","forEach","route","default","icon_component","value","path","func","object","bool","ui","hideRouteBlur","is_reports_visible","showRouteBlur","withRouter"],"mappings":"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","file":"js/reports.705e2e5346c693632db5.js","sourcesContent":["import classNames from 'classnames';\nimport React      from 'react';\nimport PropTypes  from 'prop-types';\n\nconst available_modes = [\n    'default',\n    'success',\n    'warn',\n    'danger',\n    'info',\n    'success-invert',\n    'warn-invert',\n];\n\nconst available_sizes = [\n    'regular',\n    'large',\n];\n\nconst Label = ({ mode, children, size = 'regular' }) => {\n    const type = available_modes.some(m => m === mode) ? mode : 'default';\n    const scale = available_sizes.some(s => s === size) ? size : 'regular';\n\n    return (\n        <span className={classNames('label', {\n            [`label--${scale}`]: scale,\n            [`label--${type}`] : type,\n        })}\n        >{children}\n        </span>\n    );\n};\nLabel.propTypes = {\n    children: PropTypes.oneOfType([\n        PropTypes.arrayOf(PropTypes.node),\n        PropTypes.node,\n    ]),\n    mode: PropTypes.oneOf(available_modes),\n};\nexport default Label;\n","import React             from 'react';\nimport Icon              from 'Assets/icon.jsx';\nimport Label             from 'App/Components/Elements/Label/label.jsx';\nimport Localize          from 'App/Components/Elements/localize.jsx';\nimport Money             from 'App/Components/Elements/money.jsx';\nimport { connect }       from 'Stores/connect';\n\nconst WalletInformation = ({\n    currency,\n    balance,\n    is_virtual,\n    is_website_status_ready,\n    loginid,\n}) => {\n    return (\n        <div className='account-wallet'>\n            {!is_virtual && <Icon icon='IconAccountsCurrency' type={currency.toLowerCase()} />}\n            {is_virtual && <Icon icon='IconDemo' />}\n            <span className='description'>\n                {is_virtual ?\n                    <Localize i18n_default_text='Practice wallet' />\n                    :\n                    <Localize i18n_default_text='{{currency}} wallet' values={{ currency: currency.toUpperCase() }} />\n                }\n            </span>\n            <span className='current-loginid'>{loginid}</span>\n            {is_website_status_ready &&\n            <Label mode={`${is_virtual ? 'warn-invert' : 'success-invert'}`} size='large'>\n                <Money amount={balance} currency={currency} />\n            </Label>\n            }\n            {!is_website_status_ready && <div />}\n        </div>\n    );\n};\n\nexport default connect(({ client }) => ({\n    balance                : client.balance,\n    currency               : client.currency,\n    is_virtual             : client.is_virtual,\n    is_website_status_ready: client.is_website_status_ready,\n    loginid                : client.loginid,\n}))(WalletInformation);\n","import PropTypes         from 'prop-types';\nimport React             from 'react';\nimport { withRouter }    from 'react-router-dom';\nimport { localize }      from 'App/i18n';\nimport { FadeWrapper }   from 'App/Components/Animations';\nimport VerticalTab       from 'App/Components/Elements/VerticalTabs/vertical-tab.jsx';\nimport AppRoutes         from 'Constants/routes';\nimport { connect }       from 'Stores/connect';\nimport WalletInformation from './wallet-information.jsx';\n\nclass Reports extends React.Component {\n    setWrapperRef = (node) => {\n        this.wrapper_ref = node;\n    };\n\n    handleClickOutside = (event) => {\n        if (this.wrapper_ref && !this.wrapper_ref.contains(event.target)) {\n            this.props.history.push(AppRoutes.trade);\n        }\n    };\n\n    componentDidMount() {\n        // SmartCharts keeps saving layout for ContractPlay even if layouts prop is set to null\n        // As a result, we have to remove it manually for each SmartChart instance in ContractReplay\n        // TODO: Remove this once SmartCharts finds a way to stop ChartIQ from saving layouts to localStorage\n        localStorage.removeItem('layout-contract-replay');\n        this.props.showBlur();\n        document.addEventListener('mousedown', this.handleClickOutside);\n        this.props.toggleReports(true);\n    }\n\n    componentWillUnmount() {\n        this.props.toggleReports(false);\n        this.props.hideBlur();\n        document.removeEventListener('mousedown', this.handleClickOutside);\n    }\n\n    render () {\n        const menu_options = () => {\n            const options = [];\n\n            this.props.routes.forEach(route => {\n                options.push({\n                    default: route.default,\n                    icon   : route.icon_component,\n                    label  : route.title,\n                    value  : route.component,\n                    path   : route.path,\n                });\n            });\n\n            return options;\n        };\n\n        const action_bar_items = [\n            {\n                onClick: () => {\n                    this.props.history.push(AppRoutes.trade);\n                    this.props.toggleReports(false);\n                },\n                icon : 'SettingsIconClose',\n                title: localize('Close'),\n            },\n            {\n                component: () => <WalletInformation />,\n                title    : '',\n            },\n        ];\n        return (\n            <FadeWrapper\n                is_visible={this.props.is_visible}\n                className='reports-page-wrapper'\n                keyname='reports-page-wrapper'\n            >\n                <div className='reports' ref={this.setWrapperRef}>\n                    <VerticalTab\n                        header_title={localize('Reports')}\n                        action_bar={action_bar_items}\n                        action_bar_classname='reports__inset_header'\n                        alignment='center'\n                        classNameHeader='reports__tab-header'\n                        current_path={this.props.location.pathname}\n                        is_routed={true}\n                        is_full_width={true}\n                        list={menu_options()}\n                    />\n                </div>\n            </FadeWrapper>\n        );\n    }\n}\n\nReports.propTypes = {\n    hideBlur     : PropTypes.func,\n    history      : PropTypes.object,\n    is_visible   : PropTypes.bool,\n    location     : PropTypes.object,\n    routes       : PropTypes.arrayOf(PropTypes.object),\n    showBlur     : PropTypes.func,\n    toggleReports: PropTypes.func,\n};\n\nexport default connect(\n    ({ ui }) => ({\n        hideBlur     : ui.hideRouteBlur,\n        is_visible   : ui.is_reports_visible,\n        showBlur     : ui.showRouteBlur,\n        toggleReports: ui.toggleReports,\n    })\n)(withRouter(Reports));\n"],"sourceRoot":""}